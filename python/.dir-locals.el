;;; Directory Local Variables            -*- no-byte-compile: t -*-
;;; For more information see (info "(emacs) Directory Variables")

((nil . ((eval . (my-direnv))))
 (python-mode . ((eval . (progn
                           (require 'pyvenv)
                           (require 'eglot)
                           (require 'company)
                           (require 'flycheck)
                           (require 'flymake)
                           (require 'yasnippet)
                           (require 'subword)
                           (require 'abbrev)
                           (require 'company-quickhelp)
                           (require 'smartparens)

                           (when-let (venv (f-join (locate-dominating-file default-directory ".venv") ".venv"))
                             (pyvenv-activate venv))
                           (add-hook #'eglot-connect-hook #'mise--update 0 t)
                           (eglot-ensure)
                           (company-mode)
                           (flycheck-mode)
                           (flymake-mode)
                           (yas-minor-mode)
                           (subword-mode)
                           (smartparens-strict-mode)
                           (python-highlight-breakpoints)
                           (company-quickhelp-mode)
                           (abbrev-mode)))
                 (company-backends . (company-files (company-capf :with company-yasnippet)
                                                    company-dabbrev-code)))))
